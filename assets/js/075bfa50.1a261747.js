"use strict";(self.webpackChunkcbl_ionic=self.webpackChunkcbl_ionic||[]).push([[8841],{6088:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>d,toc:()=>r});var t=o(4848),i=o(8453);const l={id:"install",sidebar_position:2},a="Install",d={id:"StartHere/install",title:"Install",description:"Get Started",source:"@site/docs/StartHere/install.md",sourceDirName:"StartHere",slug:"/StartHere/install",permalink:"/StartHere/install",draft:!1,unlisted:!1,editUrl:"https://github.com/couchbaselabs/cbl-ionic-docs/docs/StartHere/install.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"install",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Prerequisites",permalink:"/StartHere/prerequisites"},next:{title:"Build and Run",permalink:"/StartHere/build-run"}},s={},r=[{value:"Get Started",id:"get-started",level:2},{value:"How to Build the Plugin",id:"how-to-build-the-plugin",level:3},{value:"Add the Plugin to your Ionic Project",id:"add-the-plugin-to-your-ionic-project",level:3},{value:"iOS - Validate Cocoa Pod Installation",id:"ios---validate-cocoa-pod-installation",level:3},{value:"Android - Update the <code>all projects</code> gradle file",id:"android---update-the-all-projects-gradle-file",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"install",children:"Install"}),"\n",(0,t.jsx)(n.h2,{id:"get-started",children:"Get Started"}),"\n",(0,t.jsx)(n.p,{children:"To get started coding Couchbase Lite for Ionic Capacitor apps, you will need to clone the Ionic Plugin repo and build the plugin."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"This plugin is actively developed and a full release download isn't currently available. A downloadable release is planned for the future."})}),"\n",(0,t.jsx)(n.h3,{id:"how-to-build-the-plugin",children:"How to Build the Plugin"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Fork and clone this repo.  You will need to also clone all the submodules for the shared libraries and tests and update them with the latest version of each of those modules code.  Run the following commands from the root of the cbl-ionic repo:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"   git clone --recurse-submodules git@github.com:Couchbase-Ecosystem/cbl-ionic.git\n   cd cbl-ionic\n   git submodule update --remote --recursive\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install the dependencies on main project."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cd cbl-ionic\nnpm install\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install CocoaPods if you are going to work on iOS."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cd ios\npod install \ncd ..\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run npm build to build Javascript - from project root."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npm run build\nnpm run verify\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Once you have built the plugin, you can add it to your Ionic project."}),"\n",(0,t.jsx)(n.h3,{id:"add-the-plugin-to-your-ionic-project",children:"Add the Plugin to your Ionic Project"}),"\n",(0,t.jsxs)(n.p,{children:["In your project package.json add the ionic plugin to your dependencies. Since this is done at the file system you can use either a relative file path or ",(0,t.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v10/commands/npm-link",children:"npm link/unlink"}),".  The following example shows using a file path."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:' "dependencies": {\n    "cbl-ionic": "file:../cbl-ionic/"\n\t...\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:'In this example the cbl-ionic repo is in the same "root" folder as the Ionic app, this .. would do a change directory (cd) out the root folder where the cbl-ionic folder is located.'}),"\n",(0,t.jsx)(n.p,{children:"Finally do an npm install to install the plugin into your project."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npm install\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ios---validate-cocoa-pod-installation",children:"iOS - Validate Cocoa Pod Installation"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"npm install"})," should add the plugin to your project and install the CocoaPods for iOS.  You can validate the CocoaPods installation by reviewing the ",(0,t.jsx)(n.code,{children:"Podfile"})," the ios\\App folder of your Ionic project.  The file should look something like this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ruby",children:"require_relative '../../node_modules/@capacitor/ios/scripts/pods_helpers'\n\nplatform :ios, '13.0'\nuse_frameworks!\n\n# workaround to avoid Xcode caching of Pods that requires\n# Product -> Clean Build Folder after new Cordova plugins installed\n# Requires CocoaPods 1.6 or newer\ninstall! 'cocoapods', :disable_input_output_paths => true\n\ndef capacitor_pods\n  pod 'Capacitor', :path => '../../node_modules/@capacitor/ios'\n  pod 'CapacitorCordova', :path => '../../node_modules/@capacitor/ios'\n  pod 'CblIonic', :path => '../../../cbl-ionic'\n  pod 'CapacitorApp', :path => '../../node_modules/@capacitor/app'\n  pod 'CapacitorHaptics', :path => '../../node_modules/@capacitor/haptics'\n  pod 'CapacitorKeyboard', :path => '../../node_modules/@capacitor/keyboard'\n  pod 'CapacitorStatusBar', :path => '../../node_modules/@capacitor/status-bar'\nend\n\ntarget 'App' do\n  capacitor_pods\n  # Add your Pods here\nend\n\npost_install do |installer|\n  assertDeploymentTarget(installer)\nend\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Note that the plugin requires iOS 13.0 or higher.  You must update any existing iOS projects to use iOS 13.0 or higher."})}),"\n",(0,t.jsxs)(n.p,{children:["Once you validated the CocoaPods installation, you must do a ",(0,t.jsx)(n.code,{children:"pod install"})," from the ios\\App folder to install the CocoaPods into your iOS project before your app will build to add the CocoaPod to your project."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cd ios/App\npod install\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"android---update-the-all-projects-gradle-file",children:["Android - Update the ",(0,t.jsx)(n.code,{children:"all projects"})," gradle file"]}),"\n",(0,t.jsx)(n.p,{children:"In Android, you need to update the main build.gradle file found at the root of your Android folder of the application to include the URL to find Couchbase Lite for Android.  The following is an example of the build.gradle file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-gradle",children:"allprojects {\n    repositories {\n        google()\n        maven {url 'https://mobile.maven.couchbase.com/maven2/dev/'}\n        mavenCentral()\n    }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Android Maven Gradle screenshot",src:o(5778).A+"",width:"5120",height:"1942"})}),"\n",(0,t.jsx)(n.p,{children:"In this example, the maven url was added that points to the maven server that hosts the Couchbase Lite Android packages."})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},5778:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/android-maven-gradle-8dedf160e48ac6c2c842e59c9ac30e76.png"},8453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>d});var t=o(6540);const i={},l=t.createContext(i);function a(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);